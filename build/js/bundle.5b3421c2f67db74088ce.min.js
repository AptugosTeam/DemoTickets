"use strict";(self.webpackChunkdemotickets=self.webpackChunkdemotickets||[]).push([[409],{2409:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});var n=r(7363),a=r.n(n),o=r(8675),i=r(2658),l=r(3727),c=r(7762),u=(r(9669),r(9704)),s=r(3523),m=r(8786),d=r(1816),f=r(6186),p=r(3285),v=r(6914),y=r(6089),h=r(6949),b=r(5600),g=r(5974),w=r(285),E=r(6388);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=(0,b.Z)({palette:{primary:h.Z}}),C={mainPanel:j({},"@media (min-width:960px)",{backgroundColor:"#56baec",width:"100%",flexGrow:1}),loginHolder:{margin:"5rem auto 0",width:"30vw",textAlign:"center"},loginArea:{position:"relative",background:"white",padding:"4rem 3rem 2rem",borderRadius:"0.5rem",marginBottom:"1rem",boxSizing:"border-box",boxShadow:"0px 3px 20px 5px #00000030"},loginTitle:{textTransform:"uppercase",fontSize:"1.2rem",letterSpacing:"0.1rem",color:"#3084af"},image:{width:"5rem",position:"absolute",top:"-2.5rem",left:"calc(15vw - (2.5rem + 2.5px))",border:"5px solid white",borderRadius:"5rem"}};const A=function(e){(0,d.z)(o.Z,C);var t=m.Z,r=k(a().useState({_id:null,Password:""}),2),n=r[0],h=r[1],b=k(a().useState(null),2),S=b[0],P=b[1],Z=k(a().useState(null),2),j=Z[0],A=Z[1],I=k(a().useState(""),2),T=I[0],D=I[1];function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r(c);function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return"".concat('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">').concat(t.default.renderToStaticMarkup(e).replaceAll("/img/","https://demotickets.aptugo.app/img/"))}return e.content||n(a().createElement("div",null,a().createElement("div",{title:"div"},a().createElement(i.Z,{variant:"h2"},"Password reset?"),"If you requested a password reset, use the link below to complete the process. If you didn't make this request, ignore this email.",a().createElement("div",{title:"div"},a().createElement("a",{href:"/forgot/**nonce**/**email**"},"Click here to reset your password")))))}var z=(0,u.I0)();return a().useEffect((function(){e.match.params.nonce&&E.Z.checkNonce(e.match.params.nonce,e.match.params.email).then((function(e){(0,w.Z)(),h(O(O({},n),{},{_id:e}))}),(function(e){console.error(e)}))}),[e.match.params.nonce]),a().createElement(a().Fragment,null,a().createElement(g.Z,{theme:x},a().createElement("div",{className:t.retrieveBody},a().createElement(y.Z,{className:t.loginPage,maxWidth:"md"},!e.match.params.nonce&&a().createElement(a().Fragment,null,a().createElement("div",{title:"div",className:t.regulatedWidth},a().createElement(i.Z,{variant:"h3"},"Forgot your password?"),a().createElement(i.Z,{variant:"body1"},"Please enter the email address associated with your account and we will email you a link to reset your password"),S&&a().createElement(a().Fragment,null,a().createElement(f.Z,{variant:"standard",severity:"success"},S)),j&&a().createElement(a().Fragment,null,a().createElement(f.Z,{variant:"standard",severity:"error"},j)),a().createElement(p.Z,{variant:"outlined",margin:"normal",label:"Email address",type:"text",value:T,onChange:function(e){D(e.target.value)}}),a().createElement(v.Z,{variant:"contained",color:"primary",onClickCapture:function(){P(null),A(null),E.Z.recoverPassword({email:T,subject:"Password recovery",message:N(),name:"pedro corica"}).then((function(e){P("Email sent to ".concat(T))}),(function(e){A(e.response.data.message)}))}},"Reset Password"),a().createElement("div",{title:"div"},"Go back toÂ ",a().createElement(l.OL,{to:"/Login",key:"4IAd9ikx"},"Login")))),e.match.params.nonce&&a().createElement(a().Fragment,null,a().createElement("div",{title:"div",className:t.regulatedWidth},a().createElement(i.Z,{variant:"h3"},"Reset your Password"),a().createElement(i.Z,{variant:"body1"},"Set your new password in the field below"),a().createElement(p.Z,{variant:"outlined",margin:"normal",label:"New Password",type:"password",value:n.Password,onChange:function(e){h(O(O({},n),{},{Password:e.target.value}))}}),a().createElement(v.Z,{variant:"contained",color:"primary",onClickCapture:function(){var e=O({},n);e._id?z((0,s.BA)(e)):z((0,s.Sh)(e))}},"Reset Password!")))))))}},285:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(9669),a=r.n(n);const o=function(){var e=localStorage.getItem("user")&&localStorage.getItem("token");return e?(a().defaults.headers.common.Authorization=e,!0):(a().defaults.headers.common.Authorization=null,!1)}},1816:(e,t,r)=>{r.d(t,{z:()=>n});var n=function(e,t){var r={},n=function(e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=r[t]?"".concat(r[t]," ").concat(e[t]):e[t])};return n(e),n(t),r}}}]);